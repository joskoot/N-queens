<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>N-queens</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">N-<wbr></wbr>queens</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Procedure_.N-queens%29" class="tocviewlink" data-pltdoc="x">Procedure N-<wbr></wbr>queens</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Symmetries%29" class="tocviewlink" data-pltdoc="x">Symmetries</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Examples%29" class="tocviewlink" data-pltdoc="x">Examples</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.N-queens%29" class="tocsubseclink" data-pltdoc="x">N-<wbr></wbr>queens</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Procedure_.N-queens%29" class="tocsubseclink" data-pltdoc="x">Procedure N-<wbr></wbr>queens</a></td></tr><tr><td><a href="#%28def._%28%28lib._.N-queens%2Fqueens..rkt%29._queens%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="badlink"><span class="RktValLink">queens</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Symmetries%29" class="tocsubseclink" data-pltdoc="x">Symmetries</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Examples%29" class="tocsubseclink" data-pltdoc="x">Examples</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.N-queens)"></a><a name="(mod-path._.N-queens/queens)"></a>N-queens</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jacob J. A. Koot</p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">N-queens/queens</span></a><span class="RktPn">)</span></td></tr></table></div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Procedure_.N-queens)"></a>Procedure N-queens</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._.N-queens/queens..rkt)._queens))"></a><span title="Provided from: N-queens/queens"><span class="RktSym"><span class="badlink"><span class="RktValLink">queens</span></span></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">N</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktVar">show-solutions?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">whole-classes?</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">show-boards?</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._list%2Fc%29%29" class="RktValLink" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._cons%2Fc%29%29" class="RktValLink" data-pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">N</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28lib._racket%2Fmath..rkt%29._natural~3f%29%29" class="RktValLink" data-pltdoc="x">natural?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">show-solutions?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">whole-classes?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">show-boards?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr></table></blockquote></div><div class="SIntrapara">Computes all solutions of the <span class="nobreak"><span class="RktVar">N</span></span>-queens problem on an <span class="nobreak"><span class="RktVar">N</span></span>&#215;<span class="nobreak"><span class="RktVar">N</span></span> board and
shows the number of solutions and the number of symmetrically distinct solutions.
The result should be read as:
</div><div class="SIntrapara"><blockquote><p><span class="stt">(<span class="nobreak"><span class="RktVar">N</span></span> <span style="font-style: italic">nr-of-solutions</span> <span style="font-style: italic">nr-of-classes</span> ((<span style="font-style: italic">n</span> . <span style="font-style: italic">s</span>) ...))</span></p></blockquote></div><div class="SIntrapara">where <span style="font-style: italic">s</span> is the size of a non-empty class of symmetrically equivalent solutions
and <span style="font-style: italic">n</span> the number of classes of this size.
A class size is 1, 2, 4 or 8 and a size never is mentioned more than once.
Class size 1 is a special case for <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">0</span></span> and <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">1</span></span>.
</div><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0"><tr><td align="right"><p><span class="stt">(+ <span style="font-style: italic">n</span> ...)</span></p></td><td align="right"><p><span class="hspace">&nbsp;</span></p></td><td align="left"><p>=</p></td><td align="left"><p><span class="hspace">&nbsp;</span></p></td><td align="left"><p><span class="stt"><span style="font-style: italic">nr-of-classes</span></span></p></td></tr><tr><td align="right"><p><span class="stt">(+ (* <span style="font-style: italic">n</span> <span style="font-style: italic">s</span>) ...)</span></p></td><td align="right"><p><span class="hspace">&nbsp;</span></p></td><td align="left"><p>=</p></td><td align="left"><p><span class="hspace">&nbsp;</span></p></td><td align="left"><p><span class="stt"><span style="font-style: italic">nr-of-solutions</span></span></p></td></tr></table></blockquote></div></p><p>If optional argument <span class="RktVar">show-solutions?</span> is <span class="nobreak"><span class="RktVal">#f</span></span>,
no solutions are shown and the other two optional arguments are ignored.
If <span class="RktVar">show-solutions?</span> is not <span class="nobreak"><span class="RktVal">#f</span></span>, and argument <span class="RktVar">whole-classes?</span> is <span class="nobreak"><span class="RktVal">#f</span></span>,
one solution of every class of symmetrically equivalent solutions is printed.
If both <span class="RktVar">show-solutions?</span> and <span class="RktVar">whole-classes?</span> have true value,
all solutions are printed.
<span class="nobreak">If <span class="RktVar">show-boards?</span></span> is <span class="nobreak"><span class="RktVal">#f</span></span>,
solutions are printed as lists.
When running with
<a href="https://docs.racket-lang.org/drracket/index.html">DrRacket</a>
 and argument <span class="RktVar">show-boards?</span> is not <span class="nobreak"><span class="RktVal">#f</span></span>,
solutions are printed as pictures in the interactions window.
A true value for <span class="RktVar">show-boards?</span> makes no sense for output to any other location.</p><p>A rank is a row of the board. A file a column.
Chess players number the ranks from 1 up to and including <span class="nobreak"><span class="RktVar">N</span></span> and files by the letters
&rsquo;a&rsquo;, &rsquo;b&rsquo;, &rsquo;c&rsquo;, etc.
However, when programming it is easier to identify ranks and files by the numbers
<span class="nobreak"><span class="RktVal">0</span></span> up to but not including <span class="nobreak"><span class="RktVar">N</span></span>.
In a solution, every rank and every file contains exactly one queen.
Therefore a solution can be written as a list of ranks:</p><blockquote><p><span class="stt">(rank<span style="vertical-align: sub; font-size: 80%">0</span> .. rank<span style="vertical-align: sub; font-size: 80%"><span class="nobreak"><span class="RktVar">N</span></span>-1</span>)</span></p></blockquote><p>the i-th element showing which rank in file i contains the queen.
Reversal of this list corresponds to reflection in the centerline parallel to the files.
The list can also be read as:</p><blockquote><p><span class="stt">(file<span style="vertical-align: sub; font-size: 80%">0</span> .. file<span style="vertical-align: sub; font-size: 80%"><span class="nobreak"><span class="RktVar">N</span></span>-1</span>)</span></p></blockquote><p>the i-th element showing which file in rank i contains the queen.
The difference between these two interpretations corresponds to
a reflection in the diagonal from field <span class="stt">(0 0)</span> to field <span class="stt">(<span class="nobreak"><span class="RktVar">N</span></span>-1 <span class="nobreak"><span class="RktVar">N</span></span>-1)</span>.
Reversal of a list of files corresponds to reflection in the centerline parellel to the ranks.</p><p>Solutions are sorted according to the order of their class of symmetrical
equivalence. Within each such class they are sorted according to their representation
as a list of ranks or a list of files.</p><p>For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">0</span></span> and <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">1</span></span> there is one solution with all symmetries of a square.
For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">2</span></span> and <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">3</span></span> there are no solutions.
For <span class="nobreak"><span class="RktVar">N</span></span>&#8805;<span class="nobreak"><span class="RktVal">4</span></span> there always is more than one solution and the following list is returned:</p><blockquote><p><span class="stt">(<span class="nobreak"><span class="RktVar">N</span></span> <span style="font-style: italic">nr-of-solutions</span> <span style="font-style: italic">nr-of-classes</span> ((<span style="font-style: italic">n</span> . <span style="font-style: italic">s</span>) ...))</span></p></blockquote><p>where <span class="stt"><span style="font-style: italic">s</span></span> is <span class="nobreak"><span class="RktVal">2</span></span>, <span class="nobreak"><span class="RktVal">4</span></span> or <span class="nobreak"><span class="RktVal">8</span></span> and <span class="stt">(<span style="font-style: italic">n</span> . <span style="font-style: italic">s</span>)</span> indicates
that there are <span class="stt"><span style="font-style: italic">n</span></span> classes of size <span class="stt"><span style="font-style: italic">s</span></span>.
A class is a set of distinct but symmetrically equivalent solutions.
<span class="stt">(+ <span style="font-style: italic">n</span> ...)</span> always equals the number of all classes.
<span class="stt">(+ (* <span style="font-style: italic">n</span> <span style="font-style: italic">s</span>) ...)</span> always is the total number of solutions.
The returned data are printed too.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Symmetries)"></a>Symmetries</h3><p>A square has 8 symmetries. Consider the square:</p><blockquote><p><img src="square.gif" alt="" width="105" height="93"/></p></blockquote><p>The symmetries are:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="right" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>v &#8594;</p></td><td align="right" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>0</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>1</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>2</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>3</p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p> </p></td></tr><tr><td align="right"><p>       E(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>0</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>1</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>2</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>3</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>identity</p></td></tr><tr><td align="right"><p>       R(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>1</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>2</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>0</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>clockwise rotation over 90&#176;</p></td></tr><tr><td align="right"><p> R<span style="vertical-align: super; font-size: 80%">2</span>(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>2</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>0</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>1</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>clockwise rotation over 180&#176;</p></td></tr><tr><td align="right"><p> R<span style="vertical-align: super; font-size: 80%">3</span>(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>0</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>1</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>2</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>clockwise rotation over 270&#176;</p></td></tr><tr><td align="right"><p> S<span style="vertical-align: sub; font-size: 80%">v</span>(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>1</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>0</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>2</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>reflection in vertical centerline</p></td></tr><tr><td align="right"><p> S<span style="vertical-align: sub; font-size: 80%">h</span>(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>2</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>1</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>0</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>reflection in horizontal centerline</p></td></tr><tr><td align="right"><p>S<span style="vertical-align: sub; font-size: 80%">d1</span>(v)</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>0</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>3</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center"><p>2</p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>1</p></td><td align="left"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left"><p>reflection in diagonal 0-2</p></td></tr><tr><td align="right" style="border-bottom: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">d2</span>(v)</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>2</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>1</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p>0</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>3</p></td><td align="left" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>reflection in diagonal 1-3</p></td></tr></table></blockquote><p>For a square R<span style="vertical-align: super; font-size: 80%">2</span> is the same as inversion
(placing every vertex to opposit position with respect to the center of the square).
The symmetries form a group, named <span style="font-style: italic">C</span><span style="vertical-align: sub; font-size: 80%">4v</span> in the nomenclature of Sch&#246;nflies,
4.m in the nomenclature of Shubnikov and 4mm in the International nomenclature.
The table of composition, modulo the order of rows and columns, is:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-top: 1px solid black;"><p>E</p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>R</p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td style="border-top: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-top: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td></tr><tr><td><p>R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td></tr><tr><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td></tr><tr><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R</p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>E</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td></tr><tr><td style="border-bottom: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>R</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>E</p></td></tr></table></blockquote><p>Each element is the composition of the element in the left column with that in the top row,
the left column and the top row included. Because the top-left corner has identity E and for
every element P we have E&#8226;P=P=P&#8226;E, the left column and top row can be read both as labels and
as part of the table proper.
Notice that the composition is not abelean. For example R&#8226;S<span style="vertical-align: sub; font-size: 80%">d1</span>=S<span style="vertical-align: sub; font-size: 80%">v</span> and S<span style="vertical-align: sub; font-size: 80%">d1</span>&#8226;R=S<span style="vertical-align: sub; font-size: 80%">h</span>.
The group can be formed from a base of two elements only. There are 12 minimal bases:</p><blockquote><table cellspacing="0" cellpadding="0"><tr><td><p>{R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span>}</p></td></tr><tr><td><p>{R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span>}</p></td></tr><tr><td><p>{R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span>}</p></td></tr><tr><td><p>{R</p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span>}</p></td></tr><tr><td><p>{R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span>}</p></td></tr><tr><td><p>{R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span>}</p></td></tr><tr><td><p>{R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span>}</p></td></tr><tr><td><p>{R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span>}</p></td></tr><tr><td><p>{S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span>}</p></td></tr><tr><td><p>{S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span>}</p></td></tr><tr><td><p>{S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span>}</p></td></tr><tr><td><p>{S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span>}</p></td></tr></table></blockquote><p>In the program a base of three elements is used: S<span style="vertical-align: sub; font-size: 80%">v</span>, S<span style="vertical-align: sub; font-size: 80%">h</span> and S<span style="vertical-align: sub; font-size: 80%">d1</span>.
This is done because S<span style="vertical-align: sub; font-size: 80%">v</span> and S<span style="vertical-align: sub; font-size: 80%">h</span> are fast functions.
All other elements, E excepted, are made by composition with S<span style="vertical-align: sub; font-size: 80%">d1</span>, which is slower.</p><blockquote><table cellspacing="0" cellpadding="0"><tr><td><p>E</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="5"><p>trivial</p></td></tr><tr><td><p>R</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>=</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td></tr><tr><td><p>R<span style="vertical-align: super; font-size: 80%">2</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>=</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td></tr><tr><td><p>R<span style="vertical-align: super; font-size: 80%">3</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>=</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="5"><p>used as base element</p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">v</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="5"><p>used as base element</p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="5"><p>used as base element</p></td></tr><tr><td><p>S<span style="vertical-align: sub; font-size: 80%">d2</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>=</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>R<span style="vertical-align: super; font-size: 80%">2</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>=</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S<span style="vertical-align: sub; font-size: 80%">h</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">v</span>&#8226;S<span style="vertical-align: sub; font-size: 80%">d1</span></p></td></tr></table></blockquote><p>For <span class="nobreak"><span class="RktVar">N</span></span>&#8805;<span class="nobreak"><span class="RktVal">4</span></span>, given a solution s and a reflection S, we always have
S(s)&#8800;s, but distinct reflections not necessarily yield distinct solutions.
For example, applied to a solution that is invariant under rotation through 90&#176;,
every reflection yields the same solution, for R(s)=s
implies S<span style="vertical-align: sub; font-size: 80%">v</span>(s)=S<span style="vertical-align: sub; font-size: 80%">h</span>(s)=S<span style="vertical-align: sub; font-size: 80%">d1</span>(s)=S<span style="vertical-align: sub; font-size: 80%">d2</span>(s).</p><p>For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">0</span></span> there is 1 solution with all symmetries
(no queen at all on an empty board)<br/>
For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">1</span></span> there is 1 solution with all symmetries
(1 queen on the single field of the board)<br/>
For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">2</span></span> there is no solution.<br/>
For <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">3</span></span> there is no solution.</p><p>For <span class="nobreak"><span class="RktVar">N</span></span>&#8805;<span class="nobreak"><span class="RktVal">4</span></span> there always is more than one solution.
A solution s<span style="vertical-align: sub; font-size: 80%">1</span> is symmetrically equivalent with solution s<span style="vertical-align: sub; font-size: 80%">2</span> if s<span style="vertical-align: sub; font-size: 80%">2</span>
can be obtained from s<span style="vertical-align: sub; font-size: 80%">1</span> by applying a symmetry operation to s<span style="vertical-align: sub; font-size: 80%">1</span>.
This defines an equivalence relation.
A solution for <span class="nobreak"><span class="RktVar">N</span></span>&#8805;<span class="nobreak"><span class="RktVal">4</span></span> cannot have a reflection symmetry, because every rank, everyfile and
every diagonal can contain one queen only. Remain the following three possibilities:</p><blockquote><p>   Solution s has symmetry R.
This implies E(s)=R(s)=R<span style="vertical-align: super; font-size: 80%">2</span>(s)=R<span style="vertical-align: super; font-size: 80%">3</span>(s).
Hence a rotation does not alter the solution.
There are 2 equivalent but distinct solutions,
which can be obtained one from the other by an arbitrary reflection,
but with R(s)=E(s) we have S<span style="vertical-align: sub; font-size: 80%">v</span>(s)=S<span style="vertical-align: sub; font-size: 80%">h</span>(s)=S<span style="vertical-align: sub; font-size: 80%">d1</span>(s)=S<span style="vertical-align: sub; font-size: 80%">d2</span>(s)
meaning that every reflection produces the same solution.</p></blockquote><blockquote><p>Solution s has symmetries E and R<span style="vertical-align: super; font-size: 80%">2</span> only.
There are 4 equivalent but distinct solutions,
which can be obtained one from another by R-odd,
a reflection or an R-odd combined with a reflection,
where R-odd is R or R<span style="vertical-align: super; font-size: 80%">3</span>.
With R<span style="vertical-align: super; font-size: 80%">2</span>(s)=E(s), we also have R<span style="vertical-align: super; font-size: 80%">3</span>(s)=R(s), S<span style="vertical-align: sub; font-size: 80%">h</span>(s)=S<span style="vertical-align: sub; font-size: 80%">v</span>(s) and S<span style="vertical-align: sub; font-size: 80%">d1</span>(s)=S<span style="vertical-align: sub; font-size: 80%">d2</span>(s).</p></blockquote><blockquote><p>Solution s has symmetry E only.
In common language no symmetry at all.
There are 8 equivalent but distinct solutions.
Given a solution s, every symmetry operation P yields a distinct solution P(s),
E(s) being equal to s, of course.</p></blockquote><p>Hence, for <span class="nobreak"><span class="RktVar">N</span></span>&#8805;<span class="nobreak"><span class="RktVal">4</span></span>, a class of equivalent solutions consists of 2, 4 or 8 distinct solutions
and the total number of solutions is even.</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="right" style="border-top: 1px solid black;; border-bottom: 1px solid black;" colspan="5"><p> </p></td><td align="right" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-top: 1px solid black;; border-bottom: 1px solid black;" colspan="7"><p>nr of classes of size </p></td></tr><tr><td align="right" style="border-bottom: 1px solid black;"><p><span class="nobreak"><span class="RktVar">N</span></span></p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>solutions</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>classes</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>1</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>2</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>  4</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>       8</p></td></tr><tr><td align="right"><p>0</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>2</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>0</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>0</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>3</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>0</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>0</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>4</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>2</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>5</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>10</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>2</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>       1</p></td></tr><tr><td align="right"><p>6</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>4</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>  1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>        </p></td></tr><tr><td align="right"><p>7</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>40</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>6</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>  2</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>       4</p></td></tr><tr><td align="right"><p>8</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>92</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>12</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>  1</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>      11</p></td></tr><tr><td align="right"><p>9</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>352</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>46</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>  4</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>      42</p></td></tr><tr><td align="right"><p>10</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>724</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>92</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>  3</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>      89</p></td></tr><tr><td align="right"><p>11</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>2680</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>341</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> 12</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>     329</p></td></tr><tr><td align="right"><p>12</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>14200</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>1787</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>4</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> 18</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>    1765</p></td></tr><tr><td align="right"><p>13</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>73712</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>9233</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>4</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> 32</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>    9197</p></td></tr><tr><td align="right"><p>14</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>365596</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>45752</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p> </p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>105</p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right"><p>   45647</p></td></tr><tr><td align="right" style="border-bottom: 1px solid black;"><p>15</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>2279184</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>285053</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p> </p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p> </p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>310</p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p>  284743</p></td></tr></table></blockquote><p>Notice the peculiar small number of solutions for <span class="nobreak"><span class="RktVar">N</span></span>=<span class="nobreak"><span class="RktVal">6</span></span>,
all in the same class and with symmetry R<span style="vertical-align: super; font-size: 80%">2</span>.
See <a href="https://oeis.org/A000170"><span class="url">https://oeis.org/A000170</span></a> and <a href="https://oeis.org/A002562"><span class="url">https://oeis.org/A002562</span></a> for more values.</p><h3>3<tt>&nbsp;</tt><a name="(part._.Examples)"></a>Examples</h3><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">queens</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;</span></p></td></tr><tr><td><p><span class="RktOut">N : 8</span></p></td></tr><tr><td><p><span class="RktOut">Number of solutions : 92</span></p></td></tr><tr><td><p><span class="RktOut">Number of classes : 12</span></p></td></tr><tr><td><p><span class="RktOut">Class sizes: ((1 . 4) (11 . 8))</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 1, symmetries (E R2), nr of symmetrically equivalent solutions: 4</span></p></td></tr><tr><td><p><span class="RktOut">(2 4 1 7 0 6 3 5)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 2, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(0 4 7 5 2 6 1 3)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 3, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(0 5 7 2 6 3 1 4)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 4, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 3 5 7 2 0 6 4)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 5, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 4 6 0 2 7 5 3)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 6, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 4 6 3 0 7 5 2)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 7, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 5 0 6 3 7 2 4)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 8, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 5 7 2 0 3 6 4)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 9, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 6 2 5 7 4 0 3)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 10, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(1 6 4 7 0 3 5 2)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 11, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(2 4 7 3 0 6 1 5)</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut">Class 12, symmetries (E), nr of symmetrically equivalent solutions: 8</span></p></td></tr><tr><td><p><span class="RktOut">(2 5 1 4 7 0 6 3)</span></p></td></tr><tr><td><p><span class="RktOut">&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;&#8213;</span></p></td></tr></table></td></tr><tr><td><p><span class="RktRes">(8 92 12 ((1 . 4) (11 . 8)))</span></p></td></tr></table></blockquote><p><img src="picture-example.gif" alt="" width="708" height="564"/></p></div></div><div id="contextindicator">&nbsp;</div></body></html>